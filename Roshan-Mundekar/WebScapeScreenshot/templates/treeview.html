<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset="utf-8" />
	<title>ALGORISIS TECHNOLOGIES</title>

	<meta name="description" content="with selectable elements and custom icons" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

	<!-- bootstrap & fontawesome -->
	<link rel="stylesheet" href="../static/assets/css/bootstrap.min.css" />
	<link rel="stylesheet" href="../static/assets/font-awesome/4.5.0/css/font-awesome.min.css" />

	<!-- page specific plugin styles -->

	<!-- text fonts -->
	<link rel="stylesheet" href="../static/assets/css/fonts.googleapis.com.css" />

	<!-- ace styles -->
	<link rel="stylesheet" href="../static/assets/css/ace.min.css" class="ace-main-stylesheet" id="main-ace-style" />

	<!--[if lte IE 9]>
			<link rel="stylesheet" href="assets/css/ace-part2.min.css" class="ace-main-stylesheet" />
		<![endif]-->
	<link rel="stylesheet" href="../static/assets/css/ace-skins.min.css" />
	<link rel="stylesheet" href="../static/assets/css/ace-rtl.min.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
	<!--[if lte IE 9]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
		<![endif]-->

	<!-- inline styles related to this page -->

	<!-- ace settings handler -->
	<script src="../static/assets/js/ace-extra.min.js"></script>

	<!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->


</head>

<body class="no-skin">
	<div id="navbar" class="navbar navbar-default ace-save-state">
		<div class="navbar-container ace-save-state" id="navbar-container">
			<button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler" data-target="#sidebar">
				<span class="sr-only">Toggle sidebar</span>

				<span class="icon-bar"></span>

				<span class="icon-bar"></span>

				<span class="icon-bar"></span>
			</button>

			<div class="navbar-header pull-left">
				<a href="/" class="navbar-brand">
					<small>
						<i class="fa fa-leaf"></i>
						ALGORISIS TECHNOLOGIES
					</small>
				</a>
			</div>


		</div><!-- /.navbar-container -->
	</div>

	<div class="main-container ace-save-state" id="main-container">
		<script type="text/javascript">
			try { ace.settings.loadState('main-container') } catch (e) { }
		</script>

		<div id="sidebar" class="sidebar responsive ace-save-state">
			<script type="text/javascript">
				try { ace.settings.loadState('sidebar') } catch (e) { }
			</script>



			<ul class="nav nav-list">
				<li class="">
					<a href="/">
						<i class="menu-icon fa fa-tachometer"></i>
						<span class="menu-text"> Dashboard </span>
					</a>

					<b class="arrow"></b>
				</li>

				<li class="active open ">
					<a href="#" class="dropdown-toggle">
						<i class="menu-icon fa fa-desktop"></i>
						<span class="menu-text">
							WEBSCRAB &amp; LINK
						</span>

						<b class="arrow fa fa-angle-down"></b>
					</a>

					<b class="arrow"></b>

					<ul class="submenu">
						<li class="">
							<a href="#" class="dropdown-toggle">
								<i class="menu-icon fa fa-caret-right"></i>

								Domains Names
								<b class="arrow fa fa-angle-down"></b>
							</a>

							<b class="arrow"></b>

							<ul class="submenu">
								{% for folder in hostname_folders %}
								<li class="">
									<a href="{{ url_for('show_folder_images', folder_name=folder) }}">
										<i class="menu-icon fa fa-caret-right"></i>
										{{ folder }}
									</a>
									
								</li>
								{% endfor %}

							
							</ul>
						</li>


					</ul>
				</li>


			</ul><!-- /.nav-list -->

			<div class="sidebar-toggle sidebar-collapse" id="sidebar-collapse">
				<i id="sidebar-toggle-icon" class="ace-icon fa fa-angle-double-left ace-save-state"
					data-icon1="ace-icon fa fa-angle-double-left" data-icon2="ace-icon fa fa-angle-double-right"></i>
			</div>
		</div>

		<div class="main-content">
			<div class="main-content-inner">
				


				<div class="page-content">
					<div class="col-sm-5">
						<div class="widget-box">
							<div class="widget-header">
								<h4 class="widget-title">WEBSCRABDRIVER LINK HERE</h4>
							</div>

							<div class="widget-body">
								<div class="widget-main no-padding">
									<form action="/submit-url" method="POST" id="urlForm">
										<fieldset>
											<input
												type="text"
												name="url"
												placeholder="Enter URL here&hellip;"
												required
											/>
										</fieldset>
										<div class="form-actions center">
											<button type="submit" class="btn btn-sm btn-success">
												Submit
												<i class="ace-icon fa fa-arrow-right icon-on-right bigger-110"></i>
											</button>
										</div>
									</form>
									
								</div>
							</div>
						</div>
					</div>

					<div class="row ">
						<div class="col-xs-12">
						

							<div class="row mt-5">


								<div class="col-sm-6">
									<div class="widget-box widget-color-green2">
										<div class="widget-header">
											<h4 class="widget-title lighter smaller">
												Browse Files
												<span class="smaller-80">(with selectable folders)</span>
											</h4>
										</div>

										<div class="widget-body">
											<div class="widget-main padding-8">
												<ul id="tree2"></ul>
											</div>
										</div>
									</div>
								</div>
							</div>

						
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer">
			<div class="footer-inner">
				<div class="footer-content">
					<span class="bigger-120">
						<span class="blue bolder">ALGORISIS TECHNOLOGIES</span>
						Application &copy; 2024-2025
					</span>

					&nbsp; &nbsp;
					<span class="action-buttons">
						<a href="#">
							<i class="ace-icon fa fa-twitter-square light-blue bigger-150"></i>
						</a>

						<a href="#">
							<i class="ace-icon fa fa-facebook-square text-primary bigger-150"></i>
						</a>

						<a href="#">
							<i class="ace-icon fa fa-rss-square orange bigger-150"></i>
						</a>
					</span>
				</div>
			</div>
		</div>

		<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
			<i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
		</a>
	</div><!-- /.main-container -->

	<!-- basic scripts -->

	 <!-- SweetAlert2 JS -->
	 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

	 <script>
		// Select the form
		const form = document.getElementById('urlForm');
	
		// Add a submit event listener
		form.addEventListener('submit', function (e) {
			// Prevent the default form submission
			e.preventDefault();
	
			// Show the Swal loader
			Swal.fire({
				title: 'Processing...',
				text: 'Please wait while we process your request.',
				allowOutsideClick: false,
				didOpen: () => {
					Swal.showLoading();
				},
			});
	
			// Submit the form via AJAX (optional) or regular form submission
			const formData = new FormData(form);
	
			fetch(form.action, {
				method: form.method,
				body: formData,
			})
				.then((response) => response.json())
				.then((data) => {
					if (data.error) {
						// Handle error response
						Swal.fire({
							icon: 'error',
							title: 'Error!',
							text: data.error,
						});
					} else {
						// Handle success response
						Swal.fire({
							icon: 'success',
							title: 'Success!',
							text: 'Your URL has been processed successfully.',
						}).then(() => {
							// Clear the form after the success message is shown
							form.reset();
						});
					}
				})
				.catch((error) => {
					// Handle fetch or server error
					Swal.fire({
						icon: 'error',
						title: 'Error!',
						text: 'An unexpected error occurred.',
					});
				});
		});
	</script>
	


	<!--[if !IE]> -->
	<script src="../static/assets/js/jquery-2.1.4.min.js"></script>

	<!-- <![endif]-->

	<!--[if IE]>
<script src="assets/js/jquery-1.11.3.min.js"></script>
<![endif]-->
	<script type="text/javascript">
		if ('ontouchstart' in document.documentElement) document.write("<script src='../static/assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
	</script>
	<script src="../static/assets/js/bootstrap.min.js"></script>

	<!-- page specific plugin scripts -->
	<script src="../static/assets/js/tree.min.js"></script>

	<!-- ace scripts -->
	<script src="../static/assets/js/ace-elements.min.js"></script>
	<script src="../static/assets/js/ace.min.js"></script>

	<!-- inline scripts related to this page -->
	<script type="text/javascript">
		jQuery(function ($) {
			var sampleData = initiateDemoData(); // see below
	
			$('#tree2').ace_tree({
				dataSource: sampleData['dataSource2'],
				loadingHTML: '<div class="tree-loading"><i class="ace-icon fa fa-refresh fa-spin blue"></i></div>',
				'open-icon': 'ace-icon fa fa-folder-open',
				'close-icon': 'ace-icon fa fa-folder',
				'itemSelect': true,
				'folderSelect': true,
				'multiSelect': true,
				'selected-icon': null,
				'unselected-icon': null,
				'folder-open-icon': 'ace-icon tree-plus',
				'folder-close-icon': 'ace-icon tree-minus'
			});
	
			function initiateDemoData() {
				// Data passed from Flask backend
				var imagesFolders = {{ images_folders|tojson }};
				
				// Root data for the tree
				var tree_data_2 = {
					'pictures': { text: 'Domains', type: 'folder', 'icon-class': 'red' }
				};
	
				// Dynamically add folders and images
				tree_data_2['pictures']['additionalParameters'] = {
					'children': {}
				};
	
				for (var folder in imagesFolders) {
					var folderData = {
						text: folder,
						type: 'folder',
						'icon-class': 'pink',
						additionalParameters: {
							children: []
						}
					};
	
					// Add images under each folder
					imagesFolders[folder].forEach(function (image) {
						folderData.additionalParameters.children.push({
							text: '<i class="ace-icon fa fa-picture-o green"></i> ' + image,
							type: 'item'
						});
					});
	
					tree_data_2['pictures']['additionalParameters']['children'][folder] = folderData;
				}
	
				var dataSource2 = function (options, callback) {
					var $data = null;
					if (!("text" in options) && !("type" in options)) {
						$data = tree_data_2; // the root tree
						callback({ data: $data });
						return;
					} else if ("type" in options && options.type == "folder") {
						if ("additionalParameters" in options && "children" in options.additionalParameters)
							$data = options.additionalParameters.children || {};
						else $data = {}; // no data
					}
	
					if ($data != null)
						setTimeout(function () { callback({ data: $data }); }, parseInt(Math.random() * 500) + 200);
				};
	
				return { 'dataSource2': dataSource2 };
			}
		});
	</script>
	
	
</body>

</html>